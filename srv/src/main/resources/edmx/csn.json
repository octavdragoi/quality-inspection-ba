{
  "namespace": "quality",
  "definitions": {
    "DatabaseServices": {
      "kind": "service",
      "@source": "srv/cat-service.cds"
    },
    "DatabaseServices.Defects": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "DATABASESERVICES_DEFECTS",
      "@readOnly": true,
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Defects"
            ]
          }
        }
      },
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "products_defect": {
          "@cds.persistence.name": "PRODUCTS_DEFECT",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "DatabaseServices.Products_Defects",
          "on": [
            {
              "ref": [
                "products_defect",
                "defect"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        },
        "description": {
          "@cds.persistence.name": "DESCRIPTION",
          "type": "cds.String"
        }
      },
      "$syntax": "projection"
    },
    "DatabaseServices.Factories": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "DATABASESERVICES_FACTORIES",
      "@readOOnly": true,
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Factories"
            ]
          }
        }
      },
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "location": {
          "@cds.persistence.name": "LOCATION",
          "type": "cds.String"
        },
        "products": {
          "@cds.persistence.name": "PRODUCTS",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "DatabaseServices.Products",
          "on": [
            {
              "ref": [
                "products",
                "factory"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        }
      },
      "$syntax": "projection"
    },
    "DatabaseServices.Images": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "DATABASESERVICES_IMAGES",
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Images"
            ]
          }
        }
      },
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "product": {
          "@cds.persistence.name": "PRODUCT",
          "type": "cds.Association",
          "target": "DatabaseServices.Products",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "product_ID"
            }
          ]
        },
        "url": {
          "@cds.persistence.name": "URL",
          "type": "cds.String"
        },
        "product_ID": {
          "@cds.persistence.name": "PRODUCT_ID",
          "@odata.foreignKey4": "product",
          "type": "cds.Integer"
        }
      },
      "$syntax": "projection"
    },
    "DatabaseServices.Products": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "DATABASESERVICES_PRODUCTS",
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Products"
            ]
          }
        }
      },
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "factory": {
          "@cds.persistence.name": "FACTORY",
          "type": "cds.Association",
          "target": "DatabaseServices.Factories",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "factory_ID"
            }
          ]
        },
        "images": {
          "@cds.persistence.name": "IMAGES",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "DatabaseServices.Images",
          "on": [
            {
              "ref": [
                "images",
                "product"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        },
        "products_defects": {
          "@cds.persistence.name": "PRODUCTS_DEFECTS",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "DatabaseServices.Products_Defects",
          "on": [
            {
              "ref": [
                "products_defects",
                "product"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        },
        "capture_date": {
          "@cds.persistence.name": "CAPTURE_DATE",
          "type": "cds.DateTime"
        },
        "factory_ID": {
          "@cds.persistence.name": "FACTORY_ID",
          "@odata.foreignKey4": "factory",
          "type": "cds.Integer"
        }
      },
      "$syntax": "projection"
    },
    "DatabaseServices.Products_Defects": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "DATABASESERVICES_PRODUCTS_DEFECTS",
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Products_Defects"
            ]
          }
        }
      },
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "defect": {
          "@cds.persistence.name": "DEFECT",
          "type": "cds.Association",
          "target": "DatabaseServices.Defects",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "defect_ID"
            }
          ]
        },
        "product": {
          "@cds.persistence.name": "PRODUCT",
          "type": "cds.Association",
          "target": "DatabaseServices.Products",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "product_ID"
            }
          ]
        },
        "defect_ID": {
          "@cds.persistence.name": "DEFECT_ID",
          "@odata.foreignKey4": "defect",
          "type": "cds.Integer"
        },
        "product_ID": {
          "@cds.persistence.name": "PRODUCT_ID",
          "@odata.foreignKey4": "product",
          "type": "cds.Integer"
        }
      },
      "$syntax": "projection"
    },
    "ViewConsumerServices": {
      "kind": "service",
      "@source": "srv/cat-service.cds"
    },
    "ViewConsumerServices.AggregatesView": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "VIEWCONSUMERSERVICES_AGGREGATESVIEW",
      "@readOnly": true,
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.AggregatesView"
            ]
          },
          "columns": [
            {
              "key": true,
              "ref": [
                "defect"
              ]
            },
            {
              "ref": [
                "factoryName"
              ]
            },
            {
              "ref": [
                "mHour"
              ],
              "cast": {
                "type": "cds.Integer"
              }
            },
            {
              "ref": [
                "mDay"
              ],
              "cast": {
                "type": "cds.Integer"
              }
            },
            {
              "ref": [
                "mMonth"
              ],
              "cast": {
                "type": "cds.Integer"
              }
            },
            {
              "ref": [
                "mYear"
              ],
              "cast": {
                "type": "cds.Integer"
              }
            },
            {
              "ref": [
                "NumDefect"
              ],
              "cast": {
                "type": "cds.Integer"
              }
            }
          ]
        }
      },
      "elements": {
        "defect": {
          "@cds.persistence.name": "DEFECT",
          "key": true,
          "type": "cds.String"
        },
        "factoryName": {
          "@cds.persistence.name": "FACTORYNAME",
          "type": "cds.String"
        },
        "mHour": {
          "@cds.persistence.name": "MHOUR",
          "type": "cds.Integer"
        },
        "mDay": {
          "@cds.persistence.name": "MDAY",
          "type": "cds.Integer"
        },
        "mMonth": {
          "@cds.persistence.name": "MMONTH",
          "type": "cds.Integer"
        },
        "mYear": {
          "@cds.persistence.name": "MYEAR",
          "type": "cds.Integer"
        },
        "NumDefect": {
          "@cds.persistence.name": "NUMDEFECT",
          "type": "cds.Integer"
        }
      },
      "$syntax": "view"
    },
    "ViewConsumerServices.ItemView": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "VIEWCONSUMERSERVICES_ITEMVIEW",
      "@readOnly": true,
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.ItemsView"
            ]
          },
          "columns": [
            {
              "key": true,
              "ref": [
                "ItemID"
              ]
            },
            {
              "ref": [
                "productID"
              ]
            },
            {
              "ref": [
                "imagePath"
              ]
            },
            {
              "ref": [
                "defect"
              ]
            },
            {
              "ref": [
                "date"
              ]
            },
            {
              "ref": [
                "factory"
              ]
            }
          ]
        }
      },
      "elements": {
        "ItemID": {
          "@cds.persistence.name": "ITEMID",
          "key": true,
          "type": "cds.Integer"
        },
        "productID": {
          "@cds.persistence.name": "PRODUCTID",
          "type": "cds.Integer"
        },
        "imagePath": {
          "@cds.persistence.name": "IMAGEPATH",
          "type": "cds.String"
        },
        "defect": {
          "@cds.persistence.name": "DEFECT",
          "type": "cds.String"
        },
        "date": {
          "@cds.persistence.name": "DATE",
          "type": "cds.DateTime"
        },
        "factory": {
          "@cds.persistence.name": "FACTORY",
          "type": "cds.String"
        }
      },
      "$syntax": "view"
    },
    "quality.AggregatesView": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_AGGREGATESVIEW",
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Products"
            ]
          },
          "columns": [
            {
              "func": "count",
              "args": [
                "*"
              ],
              "as": "NumDefect"
            },
            {
              "key": true,
              "ref": [
                "products_defects",
                "defect",
                "description"
              ],
              "as": "defect"
            },
            {
              "key": true,
              "ref": [
                "factory",
                "location"
              ],
              "as": "factoryName"
            },
            {
              "key": true,
              "func": "hour",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ],
              "as": "mHour"
            },
            {
              "key": true,
              "func": "month",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ],
              "as": "mMonth"
            },
            {
              "key": true,
              "func": "year",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ],
              "as": "mYear"
            },
            {
              "key": true,
              "func": "dayofmonth",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ],
              "as": "mDay"
            }
          ],
          "groupBy": [
            {
              "ref": [
                "products_defects",
                "defect",
                "description"
              ]
            },
            {
              "ref": [
                "factory",
                "location"
              ]
            },
            {
              "func": "hour",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ]
            },
            {
              "func": "month",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ]
            },
            {
              "func": "year",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ]
            },
            {
              "func": "dayofmonth",
              "args": [
                {
                  "ref": [
                    "capture_date"
                  ]
                }
              ]
            }
          ]
        }
      },
      "elements": {
        "NumDefect": {
          "@Core.Computed": true,
          "@cds.persistence.name": "NUMDEFECT"
        },
        "defect": {
          "@cds.persistence.name": "DEFECT",
          "key": true,
          "type": "cds.String"
        },
        "factoryName": {
          "@cds.persistence.name": "FACTORYNAME",
          "key": true,
          "type": "cds.String"
        },
        "mHour": {
          "@Core.Computed": true,
          "@cds.persistence.name": "MHOUR",
          "key": true
        },
        "mMonth": {
          "@Core.Computed": true,
          "@cds.persistence.name": "MMONTH",
          "key": true
        },
        "mYear": {
          "@Core.Computed": true,
          "@cds.persistence.name": "MYEAR",
          "key": true
        },
        "mDay": {
          "@Core.Computed": true,
          "@cds.persistence.name": "MDAY",
          "key": true
        }
      },
      "$syntax": "view"
    },
    "quality.Dates": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_DATES",
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "year": {
          "@cds.persistence.name": "YEAR",
          "type": "cds.Integer"
        },
        "month": {
          "@cds.persistence.name": "MONTH",
          "type": "cds.Integer"
        },
        "day": {
          "@cds.persistence.name": "DAY",
          "type": "cds.Integer"
        },
        "hour": {
          "@cds.persistence.name": "HOUR",
          "type": "cds.Integer"
        }
      }
    },
    "quality.Defects": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_DEFECTS",
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "products_defect": {
          "@cds.persistence.name": "PRODUCTS_DEFECT",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "quality.Products_Defects",
          "on": [
            {
              "ref": [
                "products_defect",
                "defect"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        },
        "description": {
          "@cds.persistence.name": "DESCRIPTION",
          "type": "cds.String"
        }
      }
    },
    "quality.Factories": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_FACTORIES",
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "location": {
          "@cds.persistence.name": "LOCATION",
          "type": "cds.String"
        },
        "products": {
          "@cds.persistence.name": "PRODUCTS",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "quality.Products",
          "on": [
            {
              "ref": [
                "products",
                "factory"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        }
      }
    },
    "quality.Images": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_IMAGES",
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "product": {
          "@cds.persistence.name": "PRODUCT",
          "type": "cds.Association",
          "target": "quality.Products",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "product_ID"
            }
          ]
        },
        "url": {
          "@cds.persistence.name": "URL",
          "type": "cds.String"
        },
        "product_ID": {
          "@cds.persistence.name": "PRODUCT_ID",
          "@odata.foreignKey4": "product",
          "type": "cds.Integer"
        }
      }
    },
    "quality.ItemsView": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_ITEMSVIEW",
      "query": {
        "SELECT": {
          "from": {
            "ref": [
              "quality.Products"
            ]
          },
          "columns": [
            {
              "key": true,
              "ref": [
                "products_defects",
                "ID"
              ],
              "as": "ItemID"
            },
            {
              "ref": [
                "ID"
              ],
              "as": "productID"
            },
            {
              "ref": [
                "images",
                "url"
              ],
              "as": "imagePath"
            },
            {
              "ref": [
                "products_defects",
                "defect",
                "description"
              ],
              "as": "defect"
            },
            {
              "ref": [
                "capture_date"
              ],
              "as": "date"
            },
            {
              "ref": [
                "factory",
                "location"
              ],
              "as": "factory"
            }
          ]
        }
      },
      "elements": {
        "ItemID": {
          "@cds.persistence.name": "ITEMID",
          "key": true,
          "type": "cds.Integer"
        },
        "productID": {
          "@cds.persistence.name": "PRODUCTID",
          "type": "cds.Integer"
        },
        "imagePath": {
          "@cds.persistence.name": "IMAGEPATH",
          "type": "cds.String"
        },
        "defect": {
          "@cds.persistence.name": "DEFECT",
          "type": "cds.String"
        },
        "date": {
          "@cds.persistence.name": "DATE",
          "type": "cds.DateTime"
        },
        "factory": {
          "@cds.persistence.name": "FACTORY",
          "type": "cds.String"
        }
      },
      "$syntax": "view"
    },
    "quality.Products": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_PRODUCTS",
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "factory": {
          "@cds.persistence.name": "FACTORY",
          "type": "cds.Association",
          "target": "quality.Factories",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "factory_ID"
            }
          ]
        },
        "images": {
          "@cds.persistence.name": "IMAGES",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "quality.Images",
          "on": [
            {
              "ref": [
                "images",
                "product"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        },
        "products_defects": {
          "@cds.persistence.name": "PRODUCTS_DEFECTS",
          "type": "cds.Association",
          "cardinality": {
            "max": "*"
          },
          "target": "quality.Products_Defects",
          "on": [
            {
              "ref": [
                "products_defects",
                "product"
              ]
            },
            "=",
            {
              "ref": [
                "$self"
              ]
            }
          ]
        },
        "capture_date": {
          "@cds.persistence.name": "CAPTURE_DATE",
          "type": "cds.DateTime"
        },
        "factory_ID": {
          "@cds.persistence.name": "FACTORY_ID",
          "@odata.foreignKey4": "factory",
          "type": "cds.Integer"
        }
      }
    },
    "quality.Products_Defects": {
      "kind": "entity",
      "@Catalog.tableType": {
        "#": "COLUMN"
      },
      "@cds.persistence.name": "QUALITY_PRODUCTS_DEFECTS",
      "elements": {
        "ID": {
          "@cds.persistence.name": "ID",
          "key": true,
          "type": "cds.Integer"
        },
        "defect": {
          "@cds.persistence.name": "DEFECT",
          "type": "cds.Association",
          "target": "quality.Defects",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "defect_ID"
            }
          ]
        },
        "product": {
          "@cds.persistence.name": "PRODUCT",
          "type": "cds.Association",
          "target": "quality.Products",
          "keys": [
            {
              "ref": [
                "ID"
              ],
              "$generatedFieldName": "product_ID"
            }
          ]
        },
        "defect_ID": {
          "@cds.persistence.name": "DEFECT_ID",
          "@odata.foreignKey4": "defect",
          "type": "cds.Integer"
        },
        "product_ID": {
          "@cds.persistence.name": "PRODUCT_ID",
          "@odata.foreignKey4": "product",
          "type": "cds.Integer"
        }
      }
    }
  },
  "version": {
    "csn": "1.0"
  },
  "meta": {
    "creator": "CDS Compiler v1.13.4"
  },
  "$version": "1.0",
  "@sql_mapping": "plain"
}